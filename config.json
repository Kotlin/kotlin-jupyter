{
  "repositories": [
    "https://jcenter.bintray.com/",
    "https://repo.maven.apache.org/maven2/",
    "https://jitpack.io"
  ],
  "libraries": [
    {
      "name": "klaxon(v=5.2)",
      "dependencies": [
        "com.beust:klaxon:$v"
      ],
      "imports": [
        "com.beust.klaxon.*"
      ],
      "link": "https://github.com/cbeust/klaxon"
    },
    {
      "name": "lets-plot",
      "link": "https://github.com/JetBrains/lets-plot-kotlin",
      "repositories": [
        "https://jetbrains.bintray.com/lets-plot-maven"
      ],
      "dependencies": [
        "org.jetbrains.lets-plot:lets-plot-common:1.0.1-SNAPSHOT",
        "org.jetbrains.lets-plot:lets-plot-kotlin-api:0.0.8-SNAPSHOT",
        "org.jetbrains.lets-plot:kotlin-frontend-api:0.0.8-SNAPSHOT",
        "org.jetbrains.lets-plot:lets-plot-jfx:1.0.1-SNAPSHOT"
      ],
      "imports": [
        "jetbrains.letsPlot.*",
        "jetbrains.letsPlot.geom.*",
        "jetbrains.letsPlot.stat.*"
      ],
      "init": [
        "fun jetbrains.letsPlot.intern.Plot.getHtml() = jetbrains.letsPlot.intern.frontendContext.FrontendContextUtil.getHtml(this)",
        "DISPLAY(HTML(jetbrains.datalore.jupyter.configureScript()))"
      ],
      "renderers": [
        {
          "class": "jetbrains.letsPlot.intern.Plot",
          "result": "HTML(($it as jetbrains.letsPlot.intern.Plot).getHtml())"
        }
      ]
    },
    {
      "name": "krangl(v=-SNAPSHOT)",
      "dependencies": [
        "com.github.holgerbrandl:krangl:$v"
      ],
      "imports": [
        "krangl.*"
      ],
      "init": [
        "fun krangl.DataFrame.toHTML(limit: Int = 20, truncate: Int = 50) : String\n{val sb = StringBuilder()\nsb.append(\"<html><body>\")\nsb.append(\"<table><tr>\")\ncols.forEach { sb.append(\"<th style=\\\"text-align:left\\\">${it.name}</th>\") }\nsb.append(\"</tr>\")\nrows.take(limit).forEach {\n    sb.append(\"<tr>\")\n    it.values.map{it.toString()}.forEach { \n        val truncated = if (truncate > 0 && it.length > truncate) {\n                if (truncate < 4) it.substring(0, truncate)\n                else it.substring(0, truncate - 3) + \"...\"\n            } else {\n                it\n            }\n        sb.append(\"\"\"<td style=\"text-align:left\" title=\"$it\">$truncated</td>\"\"\") \n    }\n    sb.append(\"</tr>\")\n}\nsb.append(\"</table>\")\nif(limit < rows.count())\n  sb.append(\"<p>... only showing top $limit rows</p>\")\nsb.append(\"</body></html>\")\nreturn sb.toString()}"
      ],
      "renderers": [
        {
          "class": "krangl.SimpleDataFrame",
          "result": "HTML($it.toHTML())"
        }
      ],
      "link": "https://github.com/holgerbrandl/krangl"
    },
    {
      "name": "kotlin-statistics(v=-SNAPSHOT)",
      "dependencies": [
        "com.github.thomasnield:kotlin-statistics:$v"
      ],
      "imports": [
        "org.nield.kotlinstatistics.*"
      ],
      "link": "https://github.com/thomasnield/kotlin-statistics"
    },
    {
      "name": "kravis(v=-SNAPSHOT)",
      "dependencies": [
        "com.github.holgerbrandl:kravis:$v"
      ],
      "imports": [
        "kravis.*"
      ],
      "renderers": [
        {
          "class": "kravis.GGPlot",
          "result": "$it.show()"
        }
      ],
      "link": "https://github.com/holgerbrandl/kravis"
    },
    {
      "name": "spark(scala=2.11.12,spark=2.4.4)",
      "dependencies": [
        "org.apache.spark:spark-mllib_2.11:$spark",
        "org.apache.spark:spark-sql_2.11:$spark",
        "org.apache.spark:spark-repl_2.11:$spark",
        "org.apache.spark:spark-streaming-flume-assembly_2.11:$spark",
        "org.apache.spark:spark-graphx_2.11:$spark",
        "org.apache.spark:spark-launcher_2.11:$spark",
        "org.apache.spark:spark-catalyst_2.11:$spark",
        "org.apache.spark:spark-streaming_2.11:$spark",
        "org.apache.spark:spark-core_2.11:$spark",
        "org.scala-lang:scala-library:$scala",
        "org.scala-lang:scala-reflect:$scala",
        "org.scala-lang:scala-compiler:$scala",
        "org.scala-lang.modules:scala-xml_2.11:1.2.0",
        "commons-io:commons-io:2.5"
      ],
      "imports": [
        "org.apache.spark.sql.*",
        "org.apache.spark.api.java.*",
        "org.apache.spark.ml.feature.*",
        "org.apache.spark.sql.functions.*"
      ],
      "init": [
        "org.apache.log4j.Logger.getLogger(\"org\").setLevel(org.apache.log4j.Level.OFF)",
        "org.apache.log4j.Logger.getLogger(\"akka\").setLevel(org.apache.log4j.Level.OFF)",
        "val spark = SparkSession\n        .builder()\n        .appName(\"Spark example\")\n        .master(\"local\")\n        .getOrCreate()",
        "val sc = spark.sparkContext()",
        "%dumpClassesForSpark",
        "fun Dataset<Row>.toHTML(limit: Int = 20, truncate: Int = 50): String {\n    val sb = StringBuilder()\n\n    sb.append(\"<html><body>\")\n    sb.append(\"\"\"<table><tr>\"\"\")\n    sb.append(schema().fieldNames().map { \"<th style=\\\"text-align:left\\\">${it}</th>\"}.joinToString(\"\"))\n    sb.append(\"</tr>\")\n\n    limit(limit).collectAsList().forEach { row ->\n        sb.append(\"<tr>\")\n        (0 until row.size()).map {\n            row[it].toString()\n        }.forEach {\n            val truncated = if (truncate > 0 && it.length > truncate) {\n                if (truncate < 4) it.substring(0, truncate)\n                else it.substring(0, truncate - 3) + \"...\"\n            } else {\n                it\n            }\n            sb.append(\"\"\"<td style=\"text-align:left\" title=\"$it\">$truncated</td>\"\"\")\n        }\n        sb.append(\"</tr>\")\n    }\n    sb.append(\"</table>\")\n    if(limit < count())\n        sb.append(\"<p>... only showing top $limit rows</p>\")\n    sb.append(\"</body></html>\")\n    return sb.toString()\n}"
      ],
      "initCell": [
        "scala.Console.setOut(System.out)",
        "scala.Console.setErr(System.err)"
      ],
      "renderers": [
        {
          "class": "org.apache.spark.sql.Dataset",
          "result": "HTML($it.toHTML())"
        }
      ]
    },
    {
      "name": "gral(v=0.11)",
      "link": "https://github.com/eseifert/gral",
      "dependencies": [
        "de.erichseifert.gral:gral-core:$v"
      ],
      "imports": [
        "de.erichseifert.gral.data.*",
        "de.erichseifert.gral.data.filters.*",
        "de.erichseifert.gral.graphics.*",
        "de.erichseifert.gral.plots.*",
        "de.erichseifert.gral.plots.lines.*",
        "de.erichseifert.gral.plots.points.*",
        "de.erichseifert.gral.util.*"
      ],
      "init": [
        "fun<T: Drawable> T.show(sizeX: Double, sizeY: Double): Any {\n    val writer = de.erichseifert.gral.io.plots.DrawableWriterFactory.getInstance().get(\"image/svg+xml\")\n\n    val buf = java.io.ByteArrayOutputStream()\n\n    writer.write(this, buf, sizeX, sizeY)\n\n    return MIME(writer.mimeType to buf.toString())\n}"
      ]
    },
    {
      "name": "kmath(v=0.1.3)",
      "link": "https://github.com/mipt-npm/kmath",
      "repositories": [
        "https://dl.bintray.com/mipt-npm/scientifik"
      ],
      "dependencies": [
        "scientifik:kmath-core-jvm:$v"
      ],
      "imports": [
        "scientifik.kmath.linear.*",
        "scientifik.kmath.operations.*",
        "scientifik.kmath.structures.*"
      ]
    },
    {
      "name": "koma(v=0.12)",
      "link": "http://koma.kyonifer.com/index.html",
      "repositories": [
        "https://dl.bintray.com/kyonifer/maven"
      ],
      "dependencies": [
        "com.kyonifer:koma-core-ejml:$v",
        "com.kyonifer:koma-plotting:$v"
      ],
      "imports": [
        "koma.*",
        "koma.extensions.*"
      ]
    }
  ]
}
